EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 15
Title "Y Ddraig Fawr"
Date ""
Rev ""
Comp "Stephen Moody"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 2300 2350 1000 3950
U 60EB395D
F0 "CPU and FPU" 50
F1 "CPU.sch" 50
F2 "D[0..31]" B R 3300 2450 50 
F3 "A[0..31]" O R 3300 2550 50 
F4 "~FPUSENSE" O R 3300 5150 50 
F5 "~CS_FPU" I R 3300 5050 50 
F6 "~BERR" I R 3300 4300 50 
F7 "~DS" O R 3300 3400 50 
F8 "~AS" O R 3300 3300 50 
F9 "~DSACK0" I R 3300 3700 50 
F10 "~DSACK1" I R 3300 3800 50 
F11 "~STERM" I R 3300 5700 50 
F12 "~CDIS" I R 3300 5350 50 
F13 "~MMUDIS" I R 3300 5250 50 
F14 "~HALT" O R 3300 4400 50 
F15 "SIZ0" O R 3300 3050 50 
F16 "SIZ1" O R 3300 3150 50 
F17 "~AVEC" I L 2300 2750 50 
F18 "FC[0..2]" O R 3300 2800 50 
F19 "~IPL[0..2]" O R 3300 2900 50 
F20 "~RESET" I R 3300 4750 50 
F21 "R~W" O R 3300 3500 50 
$EndSheet
$Sheet
S 10750 1100 1200 2850
U 60EB3BEA
F0 "Expansion Slots" 50
F1 "Expansion.sch" 50
F2 "~EXT_PRD0[1..4]" O L 10750 3750 50 
F3 "~EXT_DTACK" O L 10750 3200 50 
F4 "~EXT_IRQ[1..4]" O L 10750 3650 50 
F5 "~DSACK1_EXT" O L 10750 3500 50 
F6 "~DSACK0_EXT" O L 10750 3400 50 
F7 "A[0..31]" I L 10750 1300 50 
F8 "D[0..31]" B L 10750 1200 50 
F9 "SIZ0" I L 10750 2000 50 
F10 "SIZ1" I L 10750 2100 50 
F11 "~AS" I L 10750 2200 50 
F12 "~DS" I L 10750 2300 50 
F13 "~RESET" I L 10750 1500 50 
F14 "RD~WR" I L 10750 1600 50 
F15 "~LDS" I L 10750 1800 50 
F16 "~UDS" I L 10750 1900 50 
F17 "~VMA" I L 10750 2700 50 
F18 "CPUCLK" I L 10750 2600 50 
F19 "CLK10" I L 10750 2500 50 
F20 "E" I L 10750 2400 50 
F21 "~EXT_DBEN" I L 10750 3100 50 
F22 "~RD~WR" I L 10750 1700 50 
F23 "~EXT_BERR" O L 10750 3300 50 
F24 "~CS_EXTREG[1..4]" I L 10750 2900 50 
F25 "~CS_EXTDATA[1..4]" I L 10750 3000 50 
F26 "~EXT_PRD1[1..4]" O L 10750 3850 50 
$EndSheet
$Sheet
S 7400 9250 1500 900 
U 6139A64F
F0 "Power" 50
F1 "Power.sch" 50
$EndSheet
$Sheet
S 10750 7900 1200 1100
U 6139A713
F0 "Ethernet" 50
F1 "Ethernet.sch" 50
F2 "D[0..31]" B L 10750 8000 50 
F3 "A[0..31]" I L 10750 8100 50 
F4 "RESET" I L 10750 8250 50 
F5 "INT_ETH" O L 10750 8750 50 
F6 "~CS_ETH" I L 10750 8650 50 
F7 "RD~WR" I L 10750 8350 50 
F8 "~RD~WR" I L 10750 8450 50 
$EndSheet
$Sheet
S 10750 6600 1200 1050
U 6139AB5E
F0 "Keyboard" 50
F1 "Keyboard.sch" 50
F2 "RD~WR" I L 10750 7100 50 
F3 "~RD~WR" I L 10750 7200 50 
F4 "~CS_KBD" I L 10750 7350 50 
F5 "~RESET" I L 10750 7000 50 
F6 "D[0..31]" B L 10750 6700 50 
F7 "A[0..31]" I L 10750 6800 50 
F8 "~INT_KBD" O L 10750 7450 50 
$EndSheet
$Sheet
S 2300 9100 1000 1000
U 6139AB8F
F0 "IDE" 50
F1 "IDE Interface.sch" 50
F2 "D[0..31]" B R 3300 9200 50 
F3 "A[0..31]" I R 3300 9300 50 
F4 "~RESET" I R 3300 9450 50 
F5 "~CS_IDE" I R 3300 9800 50 
F6 "~INT_IDE" O R 3300 10000 50 
F7 "RD~WR" I R 3300 9550 50 
F8 "~RD~WR" I R 3300 9650 50 
$EndSheet
$Sheet
S 10750 9300 1200 1000
U 6152AF50
F0 "Real Time Clock" 50
F1 "RTC.sch" 50
F2 "~CS_RTC" I L 10750 10100 50 
F3 "RD~WR" I L 10750 9800 50 
F4 "~RD~WR" I L 10750 9900 50 
F5 "~RESET" I L 10750 9700 50 
F6 "A[0..31]" I L 10750 9500 50 
F7 "D[0..31]" B L 10750 9400 50 
$EndSheet
$Sheet
S 10750 4150 1200 2250
U 60CA1C9E
F0 "DRAM" 50
F1 "DRAM.sch" 50
F2 "DRAM_CLK" I L 10750 5350 50 
F3 "~CS_DRAM" I L 10750 5050 50 
F4 "~AS" I L 10750 4450 50 
F5 "~CBREQ" I L 10750 4850 50 
F6 "SIZ0" I L 10750 4650 50 
F7 "SIZ1" I L 10750 4750 50 
F8 "~CS_DRAMCPLD" I L 10750 5150 50 
F9 "D[0..31]" B L 10750 4250 50 
F10 "A[0..31]" O L 10750 4350 50 
F11 "JTAG_TCK" I L 10750 5550 50 
F12 "JTAG_TMS" I L 10750 5650 50 
F13 "JTAG_TDI" I L 10750 5750 50 
F14 "JTAG_TDO" O L 10750 5850 50 
F15 "~DSACK0" O L 10750 6100 50 
F16 "~DSACK1" O L 10750 6200 50 
F17 "~STERM" O L 10750 6300 50 
F18 "~DS" I L 10750 4550 50 
F19 "~RESET" I L 10750 5250 50 
$EndSheet
$Sheet
S 2300 6600 1000 800 
U 61478359
F0 "ROM and RAM" 50
F1 "ROMRAM.sch" 50
F2 "~RD~WR" I R 3300 7300 50 
F3 "~CS_SRAM" I R 3300 6950 50 
F4 "~CS_ROM" I R 3300 7050 50 
F5 "RD~WR" I R 3300 7200 50 
F6 "D[0..31]" B R 3300 6650 50 
F7 "A[0..31]" I R 3300 6750 50 
$EndSheet
$Sheet
S 2250 950  1000 950 
U 6147DB65
F0 "Reset and LEDs" 50
F1 "Reset.sch" 50
F2 "~RESET" I R 3250 1650 50 
F3 "~HALT" I R 3250 1450 50 
F4 "~RUN" I R 3250 1550 50 
F5 "RESET" O R 3250 1050 50 
$EndSheet
Wire Bus Line
	3300 2450 3450 2450
Wire Bus Line
	3300 2550 3550 2550
$Sheet
S 2300 7650 1000 1100
U 6139AAF1
F0 "Serial" 50
F1 "Serial and USB.sch" 50
F2 "~CS_DUART" I R 3300 8350 50 
F3 "~INT_DUART" O R 3300 8650 50 
F4 "A[0..31]" I R 3300 7850 50 
F5 "D[0..31]" B R 3300 7750 50 
F6 "~DTACK_DUART" O R 3300 8450 50 
F7 "~RESET" I R 3300 8000 50 
F8 "RD~WR" I R 3300 8100 50 
$EndSheet
Wire Bus Line
	3450 1200 3450 2200
Wire Bus Line
	5000 2200 3450 2200
Connection ~ 3450 2200
Wire Bus Line
	3450 2200 3450 2450
Wire Bus Line
	5000 2300 3550 2300
Connection ~ 3550 2300
Wire Bus Line
	3550 2300 3550 2550
Wire Bus Line
	3300 2800 5000 2800
Wire Wire Line
	5000 3050 4600 3050
Wire Wire Line
	5000 3150 4500 3150
Wire Wire Line
	3300 3300 4400 3300
Wire Wire Line
	5000 3400 4300 3400
Wire Wire Line
	3300 3700 5000 3700
Wire Wire Line
	5000 3800 3300 3800
Wire Bus Line
	3300 2900 5000 2900
Wire Wire Line
	5000 4750 4800 4750
Wire Wire Line
	5000 5050 3300 5050
Wire Wire Line
	5000 5150 3300 5150
Wire Wire Line
	5000 5250 3300 5250
Wire Wire Line
	5000 5350 3300 5350
Wire Bus Line
	3550 1300 3550 2300
Wire Wire Line
	3250 1050 4900 1050
Connection ~ 4800 4750
Wire Wire Line
	4800 4750 3300 4750
Wire Wire Line
	4800 1500 4800 4750
Wire Wire Line
	4700 7200 3300 7200
Wire Bus Line
	10650 1200 10650 4250
Wire Bus Line
	10650 9400 10750 9400
Connection ~ 10650 1200
Wire Bus Line
	10650 1200 10750 1200
Wire Bus Line
	10750 9500 10550 9500
Wire Bus Line
	10550 9500 10550 8100
Connection ~ 10550 1300
Wire Bus Line
	10550 1300 10750 1300
Wire Bus Line
	10750 8000 10650 8000
Connection ~ 10650 8000
Wire Bus Line
	10650 8000 10650 9400
Wire Bus Line
	10750 8100 10550 8100
Connection ~ 10550 8100
Wire Bus Line
	10550 8100 10550 6800
Wire Bus Line
	10750 6800 10550 6800
Connection ~ 10550 6800
Wire Bus Line
	10550 6800 10550 4350
Wire Bus Line
	10750 6700 10650 6700
Connection ~ 10650 6700
Wire Bus Line
	10650 6700 10650 8000
Wire Bus Line
	10750 4350 10550 4350
Connection ~ 10550 4350
Wire Bus Line
	10550 4350 10550 1300
Wire Bus Line
	10750 4250 10650 4250
Connection ~ 10650 4250
Wire Bus Line
	10650 4250 10650 6700
Wire Bus Line
	3450 2450 3450 6650
Connection ~ 3450 2450
Wire Bus Line
	3550 7850 3300 7850
Wire Bus Line
	3300 7750 3450 7750
Wire Bus Line
	3550 7850 3550 6750
Wire Bus Line
	3550 6750 3300 6750
Wire Bus Line
	3300 6650 3450 6650
Connection ~ 3450 6650
Wire Bus Line
	3450 6650 3450 7750
Wire Bus Line
	3550 6750 3550 2550
Connection ~ 3550 6750
Connection ~ 3550 2550
Wire Wire Line
	6550 2300 6850 2300
Wire Wire Line
	10750 1700 10250 1700
Wire Wire Line
	10450 1500 10450 5250
Wire Wire Line
	10450 7000 10750 7000
Connection ~ 10450 1500
Wire Wire Line
	10450 1500 10750 1500
Wire Wire Line
	10750 7100 10350 7100
Wire Wire Line
	10350 7100 10350 1600
Connection ~ 10350 1600
Wire Wire Line
	10350 1600 10750 1600
Wire Wire Line
	10250 1700 10250 7200
Wire Wire Line
	10250 9900 10750 9900
Connection ~ 10250 1700
Wire Wire Line
	10250 1700 6850 1700
Wire Wire Line
	10750 9800 10350 9800
Wire Wire Line
	10350 9800 10350 8350
Connection ~ 10350 7100
Wire Wire Line
	10450 7000 10450 8250
Wire Wire Line
	10450 9700 10750 9700
Connection ~ 10450 7000
Wire Wire Line
	10750 8250 10450 8250
Connection ~ 10450 8250
Wire Wire Line
	10450 8250 10450 9700
Wire Wire Line
	10750 8350 10350 8350
Connection ~ 10350 8350
Wire Wire Line
	10350 8350 10350 7100
Wire Wire Line
	10750 8450 10250 8450
Connection ~ 10250 8450
Wire Wire Line
	10250 8450 10250 9900
Wire Wire Line
	10750 7200 10250 7200
Connection ~ 10250 7200
Wire Wire Line
	10250 7200 10250 8450
Wire Wire Line
	6550 5550 10750 5550
Wire Wire Line
	6550 5650 10750 5650
Wire Wire Line
	6550 5750 10750 5750
Wire Wire Line
	6550 5850 10750 5850
Wire Wire Line
	6550 5150 10750 5150
Wire Wire Line
	6550 5050 10750 5050
Wire Wire Line
	5000 4300 3300 4300
Wire Wire Line
	6550 2400 9400 2400
Wire Wire Line
	9400 1800 10750 1800
Wire Wire Line
	10750 1900 9500 1900
Wire Wire Line
	9500 2500 6550 2500
Wire Wire Line
	4600 3050 4600 950 
Wire Wire Line
	4600 950  9850 950 
Wire Wire Line
	9850 950  9850 2000
Wire Wire Line
	9850 2000 10750 2000
Connection ~ 4600 3050
Wire Wire Line
	4600 3050 3300 3050
Wire Wire Line
	10750 2100 9950 2100
Wire Wire Line
	9950 2100 9950 850 
Wire Wire Line
	9950 850  4500 850 
Wire Wire Line
	4500 850  4500 3150
Connection ~ 4500 3150
Wire Wire Line
	4500 3150 3300 3150
Wire Wire Line
	10750 2200 10050 2200
Wire Wire Line
	10050 2200 10050 750 
Wire Wire Line
	10050 750  4400 750 
Wire Wire Line
	4400 750  4400 3300
Connection ~ 4400 3300
Wire Wire Line
	4400 3300 5000 3300
Wire Wire Line
	4300 3400 4300 650 
Wire Wire Line
	4300 650  10150 650 
Wire Wire Line
	10150 650  10150 2300
Wire Wire Line
	10150 2300 10750 2300
Connection ~ 4300 3400
Wire Wire Line
	4300 3400 3300 3400
$Sheet
S 5000 2100 1550 7200
U 6139A6BE
F0 "Decode and Logic" 50
F1 "Decode.sch" 50
F2 "JTAG_TCK" O R 6550 5550 50 
F3 "JTAG_TMS" O R 6550 5650 50 
F4 "JTAG_TDI" O R 6550 5750 50 
F5 "JTAG_TDO" I R 6550 5850 50 
F6 "~DSACK0" O L 5000 3700 50 
F7 "~DSACK1" O L 5000 3800 50 
F8 "~DRAM_DSACK0" I R 6550 6100 50 
F9 "~DRAM_DSACK1" I R 6550 6200 50 
F10 "A[0..31]" I L 5000 2300 50 
F11 "D[0..31]" B L 5000 2200 50 
F12 "~LDS" O R 6550 2400 50 
F13 "~UDS" O R 6550 2500 50 
F14 "E" O R 6550 2600 50 
F15 "~EXT_DBEN" O R 6550 3100 50 
F16 "~RD~WR" O R 6550 2300 50 
F17 "~EXT_IRQ[1..4]" O R 6550 3650 50 
F18 "~DSACK1_EXT" I R 6550 3500 50 
F19 "~DSACK0_EXT" I R 6550 3400 50 
F20 "~EXT_PRD0[1..4]" I R 6550 3750 50 
F21 "~EXT_DTACK" I R 6550 3200 50 
F22 "~EXT_BERR" I R 6550 3300 50 
F23 "CLK10" O R 6550 2700 50 
F24 "~CS_ETH" O R 6550 8500 50 
F25 "RESET" I L 5000 4650 50 
F26 "INT_ETH" I R 6550 8600 50 
F27 "~INT_DUART" I L 5000 8650 50 
F28 "~CS_DUART" O L 5000 8350 50 
F29 "~CS_KBD" O R 6550 7350 50 
F30 "~CS_RTC" O R 6550 8800 50 
F31 "~CS_IDE" O L 5000 9050 50 
F32 "~IPL[0..2]" O L 5000 2650 50 
F33 "~CS_ROM" O L 5000 7050 50 
F34 "~CS_SRAM" O L 5000 6950 50 
F35 "~RESET" O L 5000 4750 50 
F36 "~INT_IDE" I L 5000 9150 50 
F37 "~DTACK_DUART" I L 5000 8450 50 
F38 "~BERR" O L 5000 4300 50 
F39 "~FPUSENSE" I L 5000 5150 50 
F40 "~CS_FPU" O L 5000 5050 50 
F41 "SIZ0" I L 5000 3050 50 
F42 "SIZ1" I L 5000 3150 50 
F43 "~DS" I L 5000 3400 50 
F44 "~AS" I L 5000 3300 50 
F45 "~CDIS" I L 5000 5350 50 
F46 "~MMUDIS" I L 5000 5250 50 
F47 "~CS_DRAM" O R 6550 5050 50 
F48 "~CS_DRAMCPLD" O R 6550 5150 50 
F49 "FC[0..2]" I L 5000 2550 50 
F50 "R~W" I L 5000 3500 50 
F51 "RD~WR" O R 6550 2200 50 
F52 "~INT_KBD" I R 6550 7450 50 
F53 "~EXT_PRD1[1..4]" I R 6550 3850 50 
F54 "~CS_EXTREG[1..4]" O R 6550 2900 50 
F55 "~CS_EXTDATA[1..4]" O R 6550 3000 50 
$EndSheet
Wire Wire Line
	4900 1050 4900 4650
Wire Wire Line
	4900 4650 5000 4650
Wire Wire Line
	3300 7050 5000 7050
Wire Wire Line
	5000 6950 3300 6950
Connection ~ 6850 2300
Wire Wire Line
	6850 2300 6850 9900
Wire Wire Line
	6850 1700 6850 2300
Wire Wire Line
	9500 1900 9500 2500
Wire Wire Line
	9400 1800 9400 2400
Wire Wire Line
	6550 2200 6950 2200
Wire Wire Line
	6950 2200 6950 1600
Wire Wire Line
	3300 3500 5000 3500
Wire Wire Line
	6950 1600 4700 1600
Wire Wire Line
	4700 1600 4700 7200
Connection ~ 6950 1600
Wire Wire Line
	4700 7200 4700 8100
Wire Wire Line
	4700 8100 3300 8100
Connection ~ 4700 7200
Wire Wire Line
	4800 4750 4800 8000
Wire Wire Line
	3300 8000 4800 8000
Wire Wire Line
	6850 9900 4600 9900
Wire Wire Line
	4600 7300 3300 7300
Wire Wire Line
	6550 2600 9600 2600
Wire Wire Line
	10750 2400 9600 2400
Wire Wire Line
	9600 2400 9600 2600
Wire Wire Line
	10750 3100 6550 3100
Wire Wire Line
	10750 5250 10450 5250
Connection ~ 10450 5250
Wire Wire Line
	10450 5250 10450 7000
Wire Wire Line
	10150 2300 10150 4550
Wire Wire Line
	10150 4550 10750 4550
Connection ~ 10150 2300
Wire Wire Line
	10750 4450 10050 4450
Wire Wire Line
	10050 4450 10050 2200
Connection ~ 10050 2200
Wire Wire Line
	9950 2100 9950 4750
Wire Wire Line
	9950 4750 10750 4750
Connection ~ 9950 2100
Wire Wire Line
	10750 4650 9850 4650
Wire Wire Line
	9850 4650 9850 2000
Connection ~ 9850 2000
Wire Wire Line
	10750 2600 9750 2600
Wire Wire Line
	9750 2600 9750 5350
Wire Wire Line
	9750 5350 10750 5350
Wire Wire Line
	10750 6100 6550 6100
Wire Wire Line
	6550 6200 10750 6200
Wire Wire Line
	4500 10000 4500 5700
Wire Wire Line
	4500 5700 3300 5700
Wire Wire Line
	4600 7300 4600 9650
Wire Bus Line
	3450 7750 3450 9200
Wire Bus Line
	3450 9200 3300 9200
Connection ~ 3450 7750
Wire Bus Line
	3550 7850 3550 9300
Wire Bus Line
	3550 9300 3300 9300
Connection ~ 3550 7850
Wire Wire Line
	4800 8000 4800 9450
Wire Wire Line
	4800 9450 3300 9450
Connection ~ 4800 8000
Wire Wire Line
	4700 8100 4700 9550
Wire Wire Line
	4700 9550 3300 9550
Connection ~ 4700 8100
Wire Wire Line
	3300 9650 4600 9650
Connection ~ 4600 9650
Wire Wire Line
	4600 9650 4600 9900
Wire Bus Line
	3450 1200 10650 1200
Wire Bus Line
	3550 1300 10550 1300
Wire Wire Line
	4800 1500 10450 1500
Wire Wire Line
	6950 1600 10350 1600
Wire Wire Line
	5000 9150 4400 9150
Wire Wire Line
	3300 9800 4300 9800
Wire Wire Line
	4300 9800 4300 9050
Wire Wire Line
	4300 9050 5000 9050
Wire Wire Line
	4400 9150 4400 10000
Wire Wire Line
	4400 10000 3300 10000
Wire Wire Line
	3300 8450 5000 8450
Wire Wire Line
	5000 8650 3300 8650
Wire Wire Line
	3300 8350 5000 8350
Wire Wire Line
	6550 8800 9700 8800
Wire Wire Line
	9700 8800 9700 10100
Wire Wire Line
	9700 10100 10750 10100
Wire Wire Line
	6550 8600 10050 8600
Wire Wire Line
	10050 8600 10050 8750
Wire Wire Line
	10050 8750 10750 8750
Wire Wire Line
	10750 8650 10150 8650
Wire Wire Line
	10150 8650 10150 8500
Wire Wire Line
	10150 8500 6550 8500
Wire Wire Line
	10750 7350 6550 7350
Wire Wire Line
	6550 7450 10750 7450
Wire Bus Line
	10750 3850 6550 3850
Wire Bus Line
	10750 3750 6550 3750
Wire Wire Line
	10750 3500 6550 3500
Wire Wire Line
	10750 3400 6550 3400
Wire Wire Line
	6550 3200 10750 3200
Wire Wire Line
	6550 3300 10750 3300
Wire Bus Line
	10750 3650 6550 3650
Wire Wire Line
	6750 10000 4500 10000
Wire Wire Line
	10750 6300 6750 6300
Wire Wire Line
	6750 6300 6750 10000
Text Notes 12950 3150 0    50   ~ 0
Notes:\n\nTo be fixed...\nDSACKx from decode needs to be open collector\nPullups on CPU pins and DSACK\n\nCheck signals needed from CPU\n\nExpansion bus CS lines need to be added\n\nCPU clock and 10Mhz clock needed\n
$EndSCHEMATC
